<%= include_gon %>
<%= render "shared/header" %>
<main>
  <div class="container">

  <div class="d-flex justify-content-center">
    <!-- 左側 -->
    <div class="w-50 pe-3">
      <%= form_with model: @purchase_delivery, url: clothing_purchases_path(@clothing), id: 'charge-form', local: true do |f| %>


        <div class="d-flex mb-3">
          <div class="w-50 pe-2">
            <%= f.label :last_name, "姓" %>
            <%= f.text_field :last_name, placeholder:"例) 鈴木", class: "form-control" %>
          </div>
          <div class="w-50 ps-2">
            <%= f.label :first_name, "名" %>
            <%= f.text_field :first_name, placeholder:"例) 太郎", class: "form-control" %>
          </div>
        </div>


        <div class="d-flex mb-3">
          <div class="w-50 pe-2">
            <%= f.label :last_name_kana, "セイ" %>
            <%= f.text_field :last_name_kana, placeholder:"例) スズキ", class: "form-control" %>
          </div>
          <div class="w-50 ps-2">
            <%= f.label :first_name_kana, "メイ" %>
            <%= f.text_field :first_name_kana, placeholder:"例) タロウ", class: "form-control" %>
          </div>
        </div>

        <div class="mb-3">
          <%= f.label :post_code, "〒" %>
          <%= f.text_field :post_code, placeholder:"例) 123-4567", class: "form-control" %>
        </div>

        <div class="mb-3">
          <%= f.label :prefecture_id, "都道府県" %>
          <%= f.collection_select(:prefecture_id, Prefecture.all, :id, :name, {}, {class:"form-control", id:"prefecture"}) %>
        </div>

        <div class="mb-3">
          <%= f.label :city, "市区町村" %>
          <%= f.text_field :city, placeholder:"例) 市区町村", class: "form-control" %>
        </div>

        <div class="mb-3">
          <%= f.label :address, "住所" %>
          <%= f.text_field :address, placeholder:"例) 住所", class: "form-control" %>
        </div>

        <div class="mb-3">
          <%= f.label :building, "建物" %>
          <%= f.text_field :building, placeholder:"例) 建物", class: "form-control" %>
        </div>

        <div class="mb-3">
          <%= f.label :phone_number, "電話番号" %>
          <%= f.text_field :phone_number, placeholder:"例) 090-1234-5678", class: "form-control" %>
        </div>

        <div class="form-check mb-3">
          <%= f.check_box :update_information, value: '1', class: "form-check-input" %>
          <%= f.label :update_information, 'この情報をユーザー情報に反映する', class: "form-check-label" %>
        </div>

      <% end %>
    </div>

 <!-- 右側 -->
<div class="w-50 ps-3 d-flex flex-column">
  <!-- 上部コンテナ -->
  <div class="text-center py-3 border rounded  mb-3">
      <div class="clothing-image">
    <% if @clothing.image.attached? %>
      <%= image_tag @clothing.image, class: "clothing-img-thumbnail" %>
    <% else %>
      <%= image_tag "dummy.png", class: "clothing-img-thumbnail" %>
    <% end %>
  </div>
  <p><%= @clothing.item %></p>
  <h2>¥<%= @clothing.price %></h2>
  </div>

  <!-- カード情報入力エリア -->
  <div class="p-3 border rounded">
    <h5 class="mb-3">カード情報を入力する</h5>

    <div class="mb-3">
      <label>カード番号</label>
      <div id="number-form" class="input-default border p-2 rounded"></div>
    </div>

    <div class="mb-3">
      <label>期限</label>
      <div id="expiry-form" class="input-default border p-2 rounded"></div>
    </div>

    <div class="mb-3">
      <label>カード背面4桁もしくは3桁の番号</label>
      <div id="cvc-form" class="input-default border p-2 rounded"></div>
    </div>

    <div class="mt-4">
      <%= form_with model: @purchase_delivery, url: clothing_purchases_path(@clothing), id: 'charge-form', local: true do |f| %>
        <%= f.submit '購入を確定する', class: "btn btn-primary w-100 py-2" %>
      <% end %>
    </div>
  </div>
</div>

  </div>
</div>
</main>